(self.webpackChunkshell=self.webpackChunkshell||[]).push([[6152,7747],{7747:(pe,A,l)=>{l.r(A),l.d(A,{Actions:()=>J,EFFECTS_ERROR_HANDLER:()=>N,EffectSources:()=>F,EffectsFeatureModule:()=>H,EffectsModule:()=>ue,EffectsRootModule:()=>O,EffectsRunner:()=>R,ROOT_EFFECTS_INIT:()=>h,USER_PROVIDED_EFFECTS:()=>M,act:()=>de,concatLatestFrom:()=>Ee,createEffect:()=>z,defaultEffectsErrorHandler:()=>T,getEffectsMetadata:()=>K,mergeEffects:()=>C,ofType:()=>X,provideEffects:()=>le,rootEffectsInit:()=>U});var a=l(3635),f=l(5893),o=l(5760),u=l(3194);const G={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},g="__@ngrx/effects_create__";function z(e,r={}){const t=r.functional?e:e(),n={...G,...r};return Object.defineProperty(t,g,{value:n}),t}function K(e){return D(e).reduce((r,{propertyName:t,dispatch:n,useEffectsErrorHandler:s})=>(r[t]={dispatch:n,useEffectsErrorHandler:s},r),{})}function D(e){return function B(e){return Object.getOwnPropertyNames(e).filter(n=>!(!e[n]||!e[n].hasOwnProperty(g))&&e[n][g].hasOwnProperty("dispatch")).map(n=>({propertyName:n,...e[n][g]}))}(e)}function b(e){return Object.getPrototypeOf(e)}function I(e){return"function"==typeof e}function S(e){return e.filter(I)}function C(e,r,t){const n=b(e).constructor.name,s=D(e).map(({propertyName:c,dispatch:i,useEffectsErrorHandler:E})=>{const p="function"==typeof e[c]?e[c]():e[c],d=E?t(p,r):p;return!1===i?d.pipe((0,f.ignoreElements)()):d.pipe((0,f.materialize)()).pipe((0,f.map)(v=>({effect:e[c],notification:v,propertyName:c,sourceName:n,sourceInstance:e})))});return(0,a.merge)(...s)}const Y=10;function T(e,r,t=Y){return e.pipe((0,f.catchError)(n=>(r&&r.handleError(n),t<=1?e:T(e,r,t-1))))}let J=(()=>{class e extends a.Observable{constructor(t){super(),t&&(this.source=t)}lift(t){const n=new e;return n.source=this,n.operator=t,n}}return e.\u0275fac=function(t){return new(t||e)(o.\u0275\u0275inject(u.ScannedActionsSubject))},e.\u0275prov=o.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function X(...e){return(0,f.filter)(r=>e.some(t=>"string"==typeof t?t===r.type:t.type===r.type))}const w=new o.InjectionToken("@ngrx/effects Internal Root Guard"),M=new o.InjectionToken("@ngrx/effects User Provided Effects"),y=new o.InjectionToken("@ngrx/effects Internal Root Effects"),x=new o.InjectionToken("@ngrx/effects Internal Root Effects Instances"),P=new o.InjectionToken("@ngrx/effects Internal Feature Effects"),k=new o.InjectionToken("@ngrx/effects Internal Feature Effects Instance Groups"),N=new o.InjectionToken("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>T}),h="@ngrx/effects/init",U=(0,u.createAction)(h);const te="ngrxOnIdentifyEffects",fe="ngrxOnInitEffects";function ce(e){return j(e,fe)}function j(e,r){return e&&r in e&&"function"==typeof e[r]}let F=(()=>{class e extends a.Subject{constructor(t,n){super(),this.errorHandler=t,this.effectsErrorHandler=n}addEffects(t){this.next(t)}toActions(){return this.pipe((0,f.groupBy)(t=>function W(e){return"Object"!==e.constructor.name&&"Function"!==e.constructor.name}(t)?b(t):t),(0,f.mergeMap)(t=>t.pipe((0,f.groupBy)(se))),(0,f.mergeMap)(t=>{const n=t.pipe((0,f.exhaustMap)(c=>function ie(e,r){return t=>{const n=C(t,e,r);return function oe(e){return j(e,"ngrxOnRunEffects")}(t)?t.ngrxOnRunEffects(n):n}}(this.errorHandler,this.effectsErrorHandler)(c)),(0,f.map)(c=>(function Z(e,r){if("N"===e.notification.kind){const t=e.notification.value;!function Q(e){return"function"!=typeof e&&e&&e.type&&"string"==typeof e.type}(t)&&r.handleError(new Error(`Effect ${function q({propertyName:e,sourceInstance:r,sourceName:t}){const n="function"==typeof r[e];return`"${t}.${String(e)}${n?"()":""}"`}(e)} dispatched an invalid action: ${function ee(e){try{return JSON.stringify(e)}catch{return e}}(t)}`))}}(c,this.errorHandler),c.notification)),(0,f.filter)(c=>"N"===c.kind&&null!=c.value),(0,f.dematerialize)()),s=t.pipe((0,f.take)(1),(0,f.filter)(ce),(0,f.map)(c=>c.ngrxOnInitEffects()));return(0,a.merge)(n,s)}))}}return e.\u0275fac=function(t){return new(t||e)(o.\u0275\u0275inject(o.ErrorHandler),o.\u0275\u0275inject(N))},e.\u0275prov=o.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function se(e){return function ne(e){return j(e,te)}(e)?e.ngrxOnIdentifyEffects():""}let R=(()=>{class e{constructor(t,n){this.effectSources=t,this.store=n,this.effectsSubscription=null}get isStarted(){return!!this.effectsSubscription}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return e.\u0275fac=function(t){return new(t||e)(o.\u0275\u0275inject(F),o.\u0275\u0275inject(u.Store))},e.\u0275prov=o.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),O=(()=>{class e{constructor(t,n,s,c,i,E,p){this.sources=t,n.start();for(const d of c)t.addEffects(d);s.dispatch({type:h})}addEffects(t){this.sources.addEffects(t)}}return e.\u0275fac=function(t){return new(t||e)(o.\u0275\u0275inject(F),o.\u0275\u0275inject(R),o.\u0275\u0275inject(u.Store),o.\u0275\u0275inject(x),o.\u0275\u0275inject(u.StoreRootModule,8),o.\u0275\u0275inject(u.StoreFeatureModule,8),o.\u0275\u0275inject(w,8))},e.\u0275mod=o.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=o.\u0275\u0275defineInjector({}),e})(),H=(()=>{class e{constructor(t,n,s,c){const i=n.flat();for(const E of i)t.addEffects(E)}}return e.\u0275fac=function(t){return new(t||e)(o.\u0275\u0275inject(O),o.\u0275\u0275inject(k),o.\u0275\u0275inject(u.StoreRootModule,8),o.\u0275\u0275inject(u.StoreFeatureModule,8))},e.\u0275mod=o.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=o.\u0275\u0275defineInjector({}),e})(),ue=(()=>{class e{static forFeature(...t){const n=t.flat(),s=S(n);return{ngModule:H,providers:[s,{provide:P,multi:!0,useValue:n},{provide:M,multi:!0,useValue:[]},{provide:k,multi:!0,useFactory:L,deps:[P,M]}]}}static forRoot(...t){const n=t.flat(),s=S(n);return{ngModule:O,providers:[s,{provide:y,useValue:[n]},{provide:w,useFactory:ae},{provide:M,multi:!0,useValue:[]},{provide:x,useFactory:L,deps:[y,M]}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=o.\u0275\u0275defineInjector({}),e})();function L(e,r){const t=[];for(const n of e)t.push(...n);for(const n of r)t.push(...n);return t.map(n=>I(n)?(0,o.inject)(n):n)}function ae(){const e=(0,o.inject)(R,{optional:!0,skipSelf:!0}),r=(0,o.inject)(y,{self:!0});if((1!==r.length||0!==r[0].length)&&e)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}function de(e,r){const{project:t,error:n,complete:s,operator:c,unsubscribe:i}="function"==typeof e?{project:e,error:r,operator:f.concatMap,complete:void 0,unsubscribe:void 0}:{...e,operator:e.operator||f.concatMap};return E=>(0,a.defer)(()=>{const p=new a.Subject;return(0,a.merge)(E.pipe(c((d,V)=>(0,a.defer)(()=>{let v=!1,$=!1,m=0;return t(d,V).pipe((0,f.materialize)(),(0,f.map)(_=>{switch(_.kind){case"E":return $=!0,{kind:"N",value:n(_.error,d)};case"C":return v=!0,s?{kind:"N",value:s(m,d)}:void 0;default:return++m,_}}),(0,f.filter)(_=>null!=_),(0,f.dematerialize)(),(0,f.finalize)(()=>{!v&&!$&&i&&p.next(i(m,d))}))}))),p)})}function Ee(e){return(0,a.pipe)((0,f.concatMap)(r=>{const t=e(r),n=Array.isArray(t)?t:[t];return(0,a.of)(r).pipe((0,f.withLatestFrom)(...n))}))}function le(...e){const r=e.flat(),t=S(r);return(0,o.makeEnvironmentProviders)([t,{provide:o.ENVIRONMENT_INITIALIZER,multi:!0,useValue:()=>{(0,o.inject)(u.ROOT_STORE_PROVIDER),(0,o.inject)(u.FEATURE_STATE_PROVIDER,{optional:!0});const n=(0,o.inject)(R),s=(0,o.inject)(F),c=!n.isStarted;c&&n.start();for(const i of r){const E=I(i)?(0,o.inject)(i):i;s.addEffects(E)}c&&(0,o.inject)(u.Store).dispatch(U())}}])}}}]);